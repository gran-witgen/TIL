# 正規表現  

/[a-z0-9]+/im  

「/と/」で囲まれた部分をデリミタ  

「im」の部分を修飾子  

- メタ文字  

1. ```[]```  

文字また数字を指定する。1文字分  

2. ```^```  

「[]内で先頭に使う場合」直後の文字や数字を指定しない  

3. ```-```  

文字や数字の範囲を指定する  

[a-zA-Z0-9]


4. ```\```  

直後のメタ文字をそのまま文字として扱うことができる  

5. ```.```(ピリオド)  

1文字分であれば何でも受け付ける  
ただしスピードが遅くなる。  


6. ```|```(パイプ)  

左右のどちらかにマッチするか判定する  

7. ```()```  

正規表現の位置を任意の位置で指定する  

8. 数量詞  

繰り返したいパターンの直後におく。  

1. ```+```  

一回以上の繰り返し  

2.  ```*```  

0回以上の繰り返し。なくてもカバーする。  

3. ```?```  

繰り返しがないか、一文字のみか。  

4. ```{n}```  

n回の繰り返し  

5. ```{n,}```  

n回以上の繰り返し  

6. ```{n,m}```  

n回以上m回以下の繰り返し  


- 最長一致について  

正規表現はカバーできるものは一番遠くまでカバーしてしまう。  

例  

```
# pattern
# worの後に何かが繰り返しあり、最後にdがくる
wor.{0,}d

hello world and say hello to donald
# 最後のdonaldまでカバーしてしまう
```

- 最短一致にする  

数量詞の後に?を置く  

例  

```
# worの後に何かが繰り返しあり、最後にdがくる
wor.{0,}?d

hello world and say hello to donald
# worldまでしかカバーしない
```

1. ```()```  

正規表現の範囲を区切る  


2. ```^```  

カバーする範囲の先頭を行頭に指定  

3. ```$```  

カバーする範囲の最後を行末に指定

4. ```\b```  

スペースや改行による単語の区切り  

5. ```\B```  

\b以外の区切り  


- 「\」+ 1文字のメタ文字では、大文字にすると働きが逆になる。  


ショートコード  
```
- [0-9] = \d  
- [^0-9] = \D  
- [a-zA-Z0-9_] = \w  
- [^a-zA-Z0-9_] = \W  
- \n = 改行  
- \t = タブ  
- \r = リターン  
- \f = 改ページ  
- [\n\t\r\f ] = \s  
- [^\n\t\r\f ] = \S  
```

- 修飾子  


正規表現に機能を追加するもの


- g  

global  = マッチする結果すべてを抽出  

- i  

case-insentsitive = 大文字小文字を区別しない  

- m  

multiline = ^と$との挙動をかえ、複数行を対象とする。  


- よくある実用例  

- 家電  

ex: 000-000-0000  

```\d{3}-\d{3}-\d{3}  ```

- 携帯  

ex: 000-0000-0000  

```\d{3}-\d{3}-\d{3}  

または  

(090|080|070)-\d{4}-\d{4}  
```

- url

```http[s]?:\/\/[\w/#$%&?=()+-~]+  ```

解説  

http[s]?  

httpとhttpsとサイトによってプロトコルが異なる。  
sがあってもなくても良いため、?で対応  

\/\/  

「/」をメタ文字ではなく文字列そのままとして扱いたいため。  

[\w/#$%&?=()+-~]+  

- メールアドレス  

ex:abcde@nantyara.com  

```[\w-]+@([\w-]+\.)+[a-zA-Z]{2,}  ```

解説  

[\w-]+  

@前の文字の繰り返し  

@([\w-]+\.)+  

@後に文字列と.との組み合わせの連続  


yahoo.com
yahoo.co.jp  

[a-zA-Z]{2,}
